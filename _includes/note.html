<style>
  .useBottomLine {
    border-bottom: 1px dotted rgba(128, 128, 128, 0.14);
  }

  .onClickDiv {
    cursor: pointer;
  }

  .onClickDiv:hover {
    opacity: 0.5;
    transition: opacity 0.5s ease;
  }

  .useGray {
    color: gray;
  }

  .emoji-img {
    width: 1.25em;
    height: 1.25em;
    margin-left: 0.3em;
    margin-right: 0.5em;
  }

  .post-row {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }

  .title-wrapper {
    flex: 1 1 auto;
    display: flex;
    align-items: center;
    margin-right: 1em;
    overflow: hidden;
  }

  .post-title {
    margin: 0;
    color: rgb(70, 70, 70);
    white-space: nowrap;
  }

  .title-scroll {
    display: block;
    width: 100%;
    overflow-x: auto;
    overflow-y: hidden;
    white-space: nowrap;
  }

  .title-scroll::-webkit-scrollbar {
    height: 0px;
  }

  .title-scroll {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .title-scroll::-webkit-scrollbar-track,
  .title-scroll::-webkit-scrollbar-thumb {
    background: transparent;
  }
</style>

<script src="/js/utils.js"></script>

<article>
  <header><h2>{{ include.title | default: page.title }}</h2></header>
  <p style="margin-top: -1.5em; color: gray; float: left">{{page.summary}}</p>

  {% assign note_length = site.categories.note | size %}
  {% if page.id == "note" %}
    <p class="onClickDiv" onclick="location.href='../inprogress'" style="margin-top: -1.5em; float: right; font-size: smaller;"><b><u class="WIPUnderline"></u></b></p><br>
    <p class="onClickDiv" onclick="location.href='../featured'" style="margin-top: -1.5em; float: right; font-size: smaller;"><b><u class="wavyUnderline"></u></b></p>
    <p style="margin-top: -1em">ã€€</p>
  
    {% assign pinned_posts = site.categories.note | where: "emoji", "/emoji/pin.png" %}
    {% assign unpinned_posts = site.categories.note | where_exp: "post", "post.emoji != '/emoji/pin.png'" %}
    {% assign all_posts = pinned_posts | concat: unpinned_posts %}

    {% for post in all_posts %}
      <div style="margin-top: -0.1em">
        <div class="onClickDiv" onclick="handle_click(event, '{{ post.url | relative_url }}');">
          <div class="post-row {% if forloop.last == false %}useBottomLine{% endif %}">
            
            <div style="flex: 0 0 auto; display: flex; align-items: center; padding-right: 0.2em; margin-left: -0.4em;">
              {% if post.emoji %}
                <img src="{{ post.emoji }}" class="emoji-img">
              {% elsif post.content == empty or post.content == blank %}
                <img src="/emoji/default-empty.png" class="emoji-img">
              {% else %}
                <img src="/emoji/default.png" class="emoji-img">
              {% endif %}
            </div>

            <div class="title-wrapper">
              <div class="title-scroll">
                <h4 class="post-title">
                  {{ post.title }}
                </h4>
              </div>
            </div>

            <div style="flex: 0 0 auto; display: flex; align-items: center; margin-left: 0.5em;">
              <time class="useGray" datetime="{{ post.date | date_to_xmlschema }}" style="font-size: smaller; margin-top: 0.5em; margin-bottom: 0.5em;">
                {% if post.emoji == "/emoji/pin.png" %}
                  {{ post.last_modified_at }}
                {% else %}
                  {{ post.date | date: "%m/%d/%Y" }}
                {% endif %}
              </time>
            </div>

          </div>
        </div>
      </div>
    {% endfor %}
  {% endif %}
</article>
<br><br>
